syntax = "proto3";
// import "google/protobuf/empty.proto";

option go_package = "go-kafka/proto/consumer";
package consumer;


service ConsumerService {
  rpc consumeMessages(ConsumeRequest) returns (ConsumeResponse);
  // rpc GetConsumerMetadata(google.protobuf.Empty) returns (ConsumerMetadata);
}

message ConsumeRequest {
  string topic = 1;
  int32 partitionKey = 2;
  int64 offset = 3;
  int32 maxMessages = 4;
  int32 maxBytes = 5;
}

message ConsumeResponse {
  int64 lastOffset = 1;
  repeated Message messages = 2;
}

message MessageHeader {
  uint32 size = 1;
  int64 offset = 2;
  uint32 crc = 3;
  uint32 dataSize = 4;
}

message Message {
  MessageHeader header = 1;
  bytes data = 2;
}